import {RankingSeuils, Seuils} from './types';
import {Rank} from '../../Scoreboard/types';

export const MyFFBadSeuils2 = {
  GeneratedDate: '2025-04-17',
  GeneratedTime: '06:51:46',
  AskedDate: '2025-04-17',
  RankingId: '515',
  ValuesLow: {
    '0': {
      SubLevel: 'N1',
      Value: '2048.0000',
      Pourcent: '0.2',
      PersonNumber: '100',
      MenPersonNumber: '168',
      WomenPersonNumber: '83',
      MenSingleRate: '3600.00',
      WomenSingleRate: '7495.29',
      MenDoubleRate: '2722.19',
      WomenDoubleRate: '12574.43',
      MenMixteRate: '3973.76',
      WomenMixteRate: '3973.76',
      MenSingleRank: '169',
      WomenSingleRank: '84',
      MenDoubleRank: '169',
      WomenDoubleRank: '84',
      MenMixteRank: '112',
      WomenMixteRank: '140',
    },
    '1': {
      SubLevel: 'N2',
      Value: '1024.0000',
      Pourcent: '0.6',
      PersonNumber: '300',
      MenPersonNumber: '505',
      WomenPersonNumber: '251',
      MenSingleRate: '1184.81',
      WomenSingleRate: '3442.24',
      MenDoubleRate: '1135.77',
      WomenDoubleRate: '7101.16',
      MenMixteRate: '2105.44',
      WomenMixteRate: '2105.44',
      MenSingleRank: '506',
      WomenSingleRank: '251',
      MenDoubleRank: '506',
      WomenDoubleRank: '251',
      MenMixteRank: '350',
      WomenMixteRank: '407',
    },
    '2': {
      SubLevel: 'N3',
      Value: '512.0000',
      Pourcent: '1.4',
      PersonNumber: '700',
      MenPersonNumber: '1179',
      WomenPersonNumber: '586',
      MenSingleRate: '430.51',
      WomenSingleRate: '1214.45',
      MenDoubleRate: '503.71',
      WomenDoubleRate: '3466.02',
      MenMixteRate: '1000.00',
      WomenMixteRate: '1000.00',
      MenSingleRank: '1180',
      WomenSingleRank: '586',
      MenDoubleRank: '1180',
      WomenDoubleRank: '586',
      MenMixteRank: '855',
      WomenMixteRank: '912',
    },
    '3': {
      SubLevel: 'R4',
      Value: '256.0000',
      Pourcent: '2.4',
      PersonNumber: '1500',
      MenPersonNumber: '2022',
      WomenPersonNumber: '1005',
      MenSingleRate: '213.21',
      WomenSingleRate: '652.81',
      MenDoubleRate: '263.99',
      WomenDoubleRate: '1852.74',
      MenMixteRate: '518.88',
      WomenMixteRate: '518.88',
      MenSingleRank: '2022',
      WomenSingleRank: '1005',
      MenDoubleRank: '2022',
      WomenDoubleRank: '1005',
      MenMixteRank: '1480',
      WomenMixteRank: '1548',
    },
    '4': {
      SubLevel: 'R5',
      Value: '128.0000',
      Pourcent: '4.0',
      PersonNumber: '3000',
      MenPersonNumber: '3370',
      WomenPersonNumber: '1675',
      MenSingleRate: '96.20',
      WomenSingleRate: '327.49',
      MenDoubleRate: '124.52',
      WomenDoubleRate: '907.15',
      MenMixteRate: '231.09',
      WomenMixteRate: '231.09',
      MenSingleRank: '3370',
      WomenSingleRank: '1676',
      MenDoubleRank: '3370',
      WomenDoubleRank: '1676',
      MenMixteRank: '2516',
      WomenMixteRank: '2530',
    },
    '5': {
      SubLevel: 'R6',
      Value: '64.0000',
      Pourcent: '6.6',
      PersonNumber: '6000',
      MenPersonNumber: '5561',
      WomenPersonNumber: '2764',
      MenSingleRate: '41.78',
      WomenSingleRate: '135.77',
      MenDoubleRate: '53.15',
      WomenDoubleRate: '354.22',
      MenMixteRate: '83.04',
      WomenMixteRate: '83.04',
      MenSingleRank: '5559',
      WomenSingleRank: '2765',
      MenDoubleRank: '5561',
      WomenDoubleRank: '2765',
      MenMixteRank: '4234',
      WomenMixteRank: '4092',
    },
    '6': {
      SubLevel: 'D7',
      Value: '32.0000',
      Pourcent: '10.0',
      PersonNumber: '10000',
      MenPersonNumber: '8426',
      WomenPersonNumber: '4189',
      MenSingleRate: '21.69',
      WomenSingleRate: '56.47',
      MenDoubleRate: '25.59',
      WomenDoubleRate: '136.69',
      MenMixteRate: '32.30',
      WomenMixteRate: '32.30',
      MenSingleRank: '8424',
      WomenSingleRank: '4189',
      MenDoubleRank: '8426',
      WomenDoubleRank: '4188',
      MenMixteRank: '6552',
      WomenMixteRank: '6062',
    },
    '7': {
      SubLevel: 'D8',
      Value: '16.0000',
      Pourcent: '15.5',
      PersonNumber: '16000',
      MenPersonNumber: '13060',
      WomenPersonNumber: '6493',
      MenSingleRate: '12.47',
      WomenSingleRate: '21.97',
      MenDoubleRate: '13.86',
      WomenDoubleRate: '43.53',
      MenMixteRate: '13.58',
      WomenMixteRate: '13.58',
      MenSingleRank: '13055',
      WomenSingleRank: '6492',
      MenDoubleRank: '13060',
      WomenDoubleRank: '6493',
      MenMixteRank: '10334',
      WomenMixteRank: '9212',
    },
    '8': {
      SubLevel: 'D9',
      Value: '8.0000',
      Pourcent: '30.0',
      PersonNumber: '25000',
      MenPersonNumber: '25278',
      WomenPersonNumber: '12567',
      MenSingleRate: '6.87',
      WomenSingleRate: '8.13',
      MenDoubleRate: '7.69',
      WomenDoubleRate: '10.60',
      MenMixteRate: '5.84',
      WomenMixteRate: '5.84',
      MenSingleRank: '25261',
      WomenSingleRank: '12562',
      MenDoubleRank: '25253',
      WomenDoubleRank: '12567',
      MenMixteRank: '20525',
      WomenMixteRank: '17315',
    },
    '9': {
      SubLevel: 'P10',
      Value: '4.0000',
      Pourcent: '45.0',
      PersonNumber: null,
      MenPersonNumber: '37917',
      WomenPersonNumber: '18850',
      MenSingleRate: '3.17',
      WomenSingleRate: '3.74',
      MenDoubleRate: '3.31',
      WomenDoubleRate: '5.06',
      MenMixteRate: '2.41',
      WomenMixteRate: '2.41',
      MenSingleRank: '37902',
      WomenSingleRank: '18847',
      MenDoubleRank: '37910',
      WomenDoubleRank: '18840',
      MenMixteRank: '33649',
      WomenMixteRank: '23097',
    },
    '10': {
      SubLevel: 'P11',
      Value: '2.0000',
      Pourcent: '70.0',
      PersonNumber: null,
      MenPersonNumber: '58982',
      WomenPersonNumber: '29323',
      MenSingleRate: '0.50',
      WomenSingleRate: '0.51',
      MenDoubleRate: '0.40',
      WomenDoubleRate: '0.48',
      MenMixteRate: '0.33',
      WomenMixteRate: '0.33',
      MenSingleRank: '62188',
      WomenSingleRank: '31387',
      MenDoubleRank: '63074',
      WomenDoubleRank: '31401',
      MenMixteRank: '61653',
      WomenMixteRank: '32624',
    },
    '11': {
      SubLevel: 'P12',
      Value: '1.0000',
      Pourcent: '100.0',
      PersonNumber: null,
      MenPersonNumber: '84260',
      WomenPersonNumber: '41891',
      MenSingleRate: '0.00',
      WomenSingleRate: '0.00',
      MenDoubleRate: '0.00',
      WomenDoubleRate: '0.00',
      MenMixteRate: '0.00',
      WomenMixteRate: '0.00',
      MenSingleRank: '-',
      WomenSingleRank: '-',
      MenDoubleRank: '-',
      WomenDoubleRank: '-',
      MenMixteRank: '-',
      WomenMixteRank: '-',
    },
    '12': {
      SubLevel: 'NC',
      Value: '1.0000',
      Pourcent: '0.0',
      PersonNumber: null,
      MenPersonNumber: '0',
      WomenPersonNumber: '0',
      MenSingleRate: null,
      WomenSingleRate: null,
      MenDoubleRate: null,
      WomenDoubleRate: null,
      MenMixteRate: null,
      WomenMixteRate: null,
      MenSingleRank: null,
      WomenSingleRank: null,
      MenDoubleRank: null,
      WomenDoubleRank: null,
      MenMixteRank: null,
      WomenMixteRank: null,
    },
  },
  ValuesHigh: {
    '0': {
      SubLevel: 'N1',
      Value: '2048.0000',
      Pourcent: '0.2',
      PersonNumber: '100',
      MenPersonNumber: '168',
      WomenPersonNumber: '83',
      MenSingleRate: '49469.69',
      WomenSingleRate: '30000.00',
      MenDoubleRate: '33776.37',
      WomenDoubleRate: '28604.07',
      MenMixteRate: '42350.00',
      WomenMixteRate: '42350.00',
      MenSingleRank: '1',
      WomenSingleRank: '1',
      MenDoubleRank: '1',
      WomenDoubleRank: '1',
      MenMixteRank: '1',
      WomenMixteRank: '1',
    },
    '1': {
      SubLevel: 'N2',
      Value: '1024.0000',
      Pourcent: '0.6',
      PersonNumber: '300',
      MenPersonNumber: '505',
      WomenPersonNumber: '251',
      MenSingleRate: '3550.10',
      WomenSingleRate: '7450.33',
      MenDoubleRate: '2717.98',
      WomenDoubleRate: '12529.62',
      MenMixteRate: '3952.88',
      WomenMixteRate: '3952.88',
      MenSingleRank: '170',
      WomenSingleRank: '85',
      MenDoubleRank: '170',
      WomenDoubleRank: '85',
      MenMixteRank: '113',
      WomenMixteRank: '141',
    },
    '2': {
      SubLevel: 'N3',
      Value: '512.0000',
      Pourcent: '1.4',
      PersonNumber: '700',
      MenPersonNumber: '1179',
      WomenPersonNumber: '586',
      MenSingleRate: '1183.29',
      WomenSingleRate: '3411.57',
      MenDoubleRate: '1134.11',
      WomenDoubleRate: '7092.10',
      MenMixteRate: '2102.90',
      WomenMixteRate: '2102.90',
      MenSingleRank: '507',
      WomenSingleRank: '252',
      MenDoubleRank: '507',
      WomenDoubleRank: '252',
      MenMixteRank: '351',
      WomenMixteRank: '408',
    },
    '3': {
      SubLevel: 'R4',
      Value: '256.0000',
      Pourcent: '2.4',
      PersonNumber: '1500',
      MenPersonNumber: '2022',
      WomenPersonNumber: '1005',
      MenSingleRate: '429.84',
      WomenSingleRate: '1213.68',
      MenDoubleRate: '503.46',
      WomenDoubleRate: '3456.80',
      MenMixteRate: '999.73',
      WomenMixteRate: '999.73',
      MenSingleRank: '1181',
      WomenSingleRank: '587',
      MenDoubleRank: '1181',
      WomenDoubleRank: '587',
      MenMixteRank: '857',
      WomenMixteRank: '916',
    },
    '4': {
      SubLevel: 'R5',
      Value: '128.0000',
      Pourcent: '4.0',
      PersonNumber: '3000',
      MenPersonNumber: '3370',
      WomenPersonNumber: '1675',
      MenSingleRate: '213.15',
      WomenSingleRate: '651.74',
      MenDoubleRate: '263.90',
      WomenDoubleRate: '1851.23',
      MenMixteRate: '518.69',
      WomenMixteRate: '518.69',
      MenSingleRank: '2023',
      WomenSingleRank: '1006',
      MenDoubleRank: '2023',
      WomenDoubleRank: '1006',
      MenMixteRank: '1481',
      WomenMixteRank: '1549',
    },
    '5': {
      SubLevel: 'R6',
      Value: '64.0000',
      Pourcent: '6.6',
      PersonNumber: '6000',
      MenPersonNumber: '5561',
      WomenPersonNumber: '2764',
      MenSingleRate: '96.14',
      WomenSingleRate: '326.91',
      MenDoubleRate: '124.41',
      WomenDoubleRate: '905.33',
      MenMixteRate: '231.05',
      WomenMixteRate: '231.05',
      MenSingleRank: '3371',
      WomenSingleRank: '1677',
      MenDoubleRank: '3371',
      WomenDoubleRank: '1677',
      MenMixteRank: '2517',
      WomenMixteRank: '2531',
    },
    '6': {
      SubLevel: 'D7',
      Value: '32.0000',
      Pourcent: '10.0',
      PersonNumber: '10000',
      MenPersonNumber: '8426',
      WomenPersonNumber: '4189',
      MenSingleRate: '41.77',
      WomenSingleRate: '135.66',
      MenDoubleRate: '53.14',
      WomenDoubleRate: '354.03',
      MenMixteRate: '83.03',
      WomenMixteRate: '83.03',
      MenSingleRank: '5562',
      WomenSingleRank: '2766',
      MenDoubleRank: '5562',
      WomenDoubleRank: '2766',
      MenMixteRank: '4235',
      WomenMixteRank: '4093',
    },
    '7': {
      SubLevel: 'D8',
      Value: '16.0000',
      Pourcent: '15.5',
      PersonNumber: '16000',
      MenPersonNumber: '13060',
      WomenPersonNumber: '6493',
      MenSingleRate: '21.68',
      WomenSingleRate: '56.41',
      MenDoubleRate: '25.57',
      WomenDoubleRate: '136.67',
      MenMixteRate: '32.29',
      WomenMixteRate: '32.29',
      MenSingleRank: '8428',
      WomenSingleRank: '4191',
      MenDoubleRank: '8427',
      WomenDoubleRank: '4190',
      MenMixteRank: '6553',
      WomenMixteRank: '6064',
    },
    '8': {
      SubLevel: 'D9',
      Value: '8.0000',
      Pourcent: '30.0',
      PersonNumber: '25000',
      MenPersonNumber: '25278',
      WomenPersonNumber: '12567',
      MenSingleRate: '12.46',
      WomenSingleRate: '21.96',
      MenDoubleRate: '13.85',
      WomenDoubleRate: '43.51',
      MenMixteRate: '13.57',
      WomenMixteRate: '13.57',
      MenSingleRank: '13065',
      WomenSingleRank: '6495',
      MenDoubleRank: '13066',
      WomenDoubleRank: '6494',
      MenMixteRank: '10343',
      WomenMixteRank: '9217',
    },
    '9': {
      SubLevel: 'P10',
      Value: '4.0000',
      Pourcent: '45.0',
      PersonNumber: null,
      MenPersonNumber: '37917',
      WomenPersonNumber: '18850',
      MenSingleRate: '6.86',
      WomenSingleRate: '8.12',
      MenDoubleRate: '7.68',
      WomenDoubleRate: '10.59',
      MenMixteRate: '5.83',
      WomenMixteRate: '5.83',
      MenSingleRank: '25284',
      WomenSingleRank: '12569',
      MenDoubleRank: '25282',
      WomenDoubleRank: '12572',
      MenMixteRank: '20544',
      WomenMixteRank: '17324',
    },
    '10': {
      SubLevel: 'P11',
      Value: '2.0000',
      Pourcent: '70.0',
      PersonNumber: null,
      MenPersonNumber: '58982',
      WomenPersonNumber: '29323',
      MenSingleRate: '3.16',
      WomenSingleRate: '3.73',
      MenDoubleRate: '3.30',
      WomenDoubleRate: '5.05',
      MenMixteRate: '2.40',
      WomenMixteRate: '2.40',
      MenSingleRank: '37930',
      WomenSingleRank: '18872',
      MenDoubleRank: '37975',
      WomenDoubleRank: '18852',
      MenMixteRank: '33714',
      WomenMixteRank: '23110',
    },
    '11': {
      SubLevel: 'P12',
      Value: '1.0000',
      Pourcent: '100.0',
      PersonNumber: null,
      MenPersonNumber: '84260',
      WomenPersonNumber: '41891',
      MenSingleRate: '0.49',
      WomenSingleRate: '0.50',
      MenDoubleRate: '0.39',
      WomenDoubleRate: '0.47',
      MenMixteRate: '0.32',
      WomenMixteRate: '0.32',
      MenSingleRank: '63224',
      WomenSingleRank: '31437',
      MenDoubleRank: '63205',
      WomenDoubleRank: '31450',
      MenMixteRank: '62040',
      WomenMixteRank: '32795',
    },
    '12': {
      SubLevel: 'NC',
      Value: '1.0000',
      Pourcent: '0.0',
      PersonNumber: null,
      MenPersonNumber: '0',
      WomenPersonNumber: '0',
      MenSingleRate: null,
      WomenSingleRate: null,
      MenDoubleRate: null,
      WomenDoubleRate: null,
      MenMixteRate: null,
      WomenMixteRate: null,
      MenSingleRank: null,
      WomenSingleRank: null,
      MenDoubleRank: null,
      WomenDoubleRank: null,
      MenMixteRank: null,
      WomenMixteRank: null,
    },
  },
};

type MyFFBadSeuil = (typeof MyFFBadSeuils2.ValuesLow)['0'];

const getSeuils = <K extends keyof MyFFBadSeuil>(key: K) => {
  return Object.values(MyFFBadSeuils2.ValuesLow)
    .map<[Rank, number | undefined, number | undefined]>(
      (s, index: number, array) => {
        const maxInterval =
          index === 0
            ? MyFFBadSeuils2.ValuesHigh['0'][key]
            : array[index - 1][key];
        const value = s[key];
        return [
          s.SubLevel as Rank,
          value ? parseFloat(value) : undefined,
          maxInterval ? parseFloat(maxInterval) : undefined,
        ];
      }
    )
    .filter(
      (seuil): seuil is [Rank, number, number] =>
        typeof seuil[1] !== 'undefined' && typeof seuil[2] !== 'undefined'
    )
    .sort((a, b) => b[1] - a[1]);
};

export const OLD_SEUILS: {male: RankingSeuils; female: RankingSeuils} = {
  male: {
    single: getSeuils('MenSingleRate'),
    double: getSeuils('MenDoubleRate'),
    mixed: getSeuils('MenMixteRate'),
  },
  female: {
    single: getSeuils('WomenSingleRate'),
    double: getSeuils('WomenDoubleRate'),
    mixed: getSeuils('WomenMixteRate'),
  },
};

export const NEW_SEUILS: {male: RankingSeuils; female: RankingSeuils} = {
  male: {
    single: (
      [
        [Rank.N1, 2600, 2800],
        [Rank.N2, 2400, 2600],
        [Rank.N3, 2200, 2400],
        [Rank.R4, 2000, 2200],
        [Rank.R5, 1800, 2000],
        [Rank.R6, 1600, 1800],
        [Rank.D7, 1400, 1600],
        [Rank.D8, 1200, 1400],
        [Rank.D9, 1000, 1200],
        [Rank.P10, 800, 1000],
        [Rank.P11, 600, 800],
        [Rank.P12, 400, 600],
      ] satisfies Seuils
    ).sort((a, b) => b[1] - a[1]),
    double: (
      [
        [Rank.N1, 2600, 2800],
        [Rank.N2, 2400, 2600],
        [Rank.N3, 2200, 2400],
        [Rank.R4, 2000, 2200],
        [Rank.R5, 1800, 2000],
        [Rank.R6, 1600, 1800],
        [Rank.D7, 1400, 1600],
        [Rank.D8, 1200, 1400],
        [Rank.D9, 1000, 1200],
        [Rank.P10, 800, 1000],
        [Rank.P11, 600, 800],
        [Rank.P12, 400, 600],
      ] satisfies Seuils
    ).sort((a, b) => b[1] - a[1]),
    mixed: (
      [
        [Rank.N1, 2600, 2800],
        [Rank.N2, 2400, 2600],
        [Rank.N3, 2200, 2400],
        [Rank.R4, 2000, 2200],
        [Rank.R5, 1800, 2000],
        [Rank.R6, 1600, 1800],
        [Rank.D7, 1400, 1600],
        [Rank.D8, 1200, 1400],
        [Rank.D9, 1000, 1200],
        [Rank.P10, 800, 1000],
        [Rank.P11, 600, 800],
        [Rank.P12, 400, 600],
      ] satisfies Seuils
    ).sort((a, b) => b[1] - a[1]),
  },
  female: {
    single: (
      [
        [Rank.N1, 2200, 2400],
        [Rank.N2, 2000, 2200],
        [Rank.N3, 1800, 2000],
        [Rank.R4, 1600, 1800],
        [Rank.R5, 1400, 1600],
        [Rank.R6, 1200, 1400],
        [Rank.D7, 1050, 1200],
        [Rank.D8, 900, 1050],
        [Rank.D9, 750, 900],
        [Rank.P10, 600, 750],
        [Rank.P11, 500, 600],
        [Rank.P12, 400, 500],
      ] satisfies Seuils
    ).sort((a, b) => b[1] - a[1]),
    double: (
      [
        [Rank.N1, 2200, 2400],
        [Rank.N2, 2000, 2200],
        [Rank.N3, 1800, 2000],
        [Rank.R4, 1600, 1800],
        [Rank.R5, 1400, 1600],
        [Rank.R6, 1200, 1400],
        [Rank.D7, 1050, 1200],
        [Rank.D8, 900, 1050],
        [Rank.D9, 750, 900],
        [Rank.P10, 600, 750],
        [Rank.P11, 500, 600],
        [Rank.P12, 400, 500],
      ] satisfies Seuils
    ).sort((a, b) => b[1] - a[1]),
    mixed: (
      [
        [Rank.N1, 2600, 2800],
        [Rank.N2, 2400, 2600],
        [Rank.N3, 2200, 2400],
        [Rank.R4, 2000, 2200],
        [Rank.R5, 1800, 2000],
        [Rank.R6, 1600, 1800],
        [Rank.D7, 1400, 1600],
        [Rank.D8, 1200, 1400],
        [Rank.D9, 1000, 1200],
        [Rank.P10, 800, 1000],
        [Rank.P11, 600, 800],
        [Rank.P12, 400, 600],
      ] satisfies Seuils
    ).sort((a, b) => b[1] - a[1]),
  },
};
