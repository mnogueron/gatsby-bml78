import {RankingSeuils, Seuils} from './types';

const MyFFBadSeuils2 = {
  GeneratedDate: '2025-04-16',
  GeneratedTime: '06:48:29',
  AskedDate: '2025-04-16',
  RankingId: '514',
  ValuesLow: {
    '0': {
      SubLevel: 'N1',
      Value: '2048.0000',
      Pourcent: '0.2',
      PersonNumber: '100',
      MenPersonNumber: '167',
      WomenPersonNumber: '83',
      MenSingleRate: '3550.10',
      WomenSingleRate: '7609.50',
      MenDoubleRate: '2717.38',
      WomenDoubleRate: '12155.85',
      MenMixteRate: '3952.16',
      WomenMixteRate: '3952.16',
      MenSingleRank: '168',
      WomenSingleRank: '83',
      MenDoubleRank: '168',
      WomenDoubleRank: '83',
      MenMixteRank: '110',
      WomenMixteRank: '141',
    },
    '1': {
      SubLevel: 'N2',
      Value: '1024.0000',
      Pourcent: '0.6',
      PersonNumber: '300',
      MenPersonNumber: '503',
      WomenPersonNumber: '250',
      MenSingleRate: '1176.74',
      WomenSingleRate: '3442.24',
      MenDoubleRate: '1131.63',
      WomenDoubleRate: '7170.28',
      MenMixteRate: '2092.15',
      WomenMixteRate: '2092.15',
      MenSingleRank: '504',
      WomenSingleRank: '250',
      MenDoubleRank: '504',
      WomenDoubleRank: '250',
      MenMixteRank: '349',
      WomenMixteRank: '405',
    },
    '2': {
      SubLevel: 'N3',
      Value: '512.0000',
      Pourcent: '1.4',
      PersonNumber: '700',
      MenPersonNumber: '1175',
      WomenPersonNumber: '584',
      MenSingleRate: '428.71',
      WomenSingleRate: '1214.45',
      MenDoubleRate: '502.68',
      WomenDoubleRate: '3465.65',
      MenMixteRate: '993.86',
      WomenMixteRate: '993.86',
      MenSingleRank: '1176',
      WomenSingleRank: '584',
      MenDoubleRank: '1176',
      WomenDoubleRank: '584',
      MenMixteRank: '850',
      WomenMixteRank: '910',
    },
    '3': {
      SubLevel: 'R4',
      Value: '256.0000',
      Pourcent: '2.4',
      PersonNumber: '1500',
      MenPersonNumber: '2015',
      WomenPersonNumber: '1001',
      MenSingleRate: '211.83',
      WomenSingleRate: '653.08',
      MenDoubleRate: '261.84',
      WomenDoubleRate: '1861.15',
      MenMixteRate: '515.65',
      WomenMixteRate: '515.65',
      MenSingleRank: '2015',
      WomenSingleRank: '1001',
      MenDoubleRank: '2015',
      WomenDoubleRank: '1001',
      MenMixteRank: '1473',
      WomenMixteRank: '1544',
    },
    '4': {
      SubLevel: 'R5',
      Value: '128.0000',
      Pourcent: '4.0',
      PersonNumber: '3000',
      MenPersonNumber: '3358',
      WomenPersonNumber: '1668',
      MenSingleRate: '95.43',
      WomenSingleRate: '326.69',
      MenDoubleRate: '123.02',
      WomenDoubleRate: '896.12',
      MenMixteRate: '228.97',
      WomenMixteRate: '228.97',
      MenSingleRank: '3359',
      WomenSingleRank: '1669',
      MenDoubleRank: '3359',
      WomenDoubleRank: '1669',
      MenMixteRank: '2503',
      WomenMixteRank: '2525',
    },
    '5': {
      SubLevel: 'R6',
      Value: '64.0000',
      Pourcent: '6.6',
      PersonNumber: '6000',
      MenPersonNumber: '5542',
      WomenPersonNumber: '2753',
      MenSingleRate: '41.64',
      WomenSingleRate: '135.25',
      MenDoubleRate: '52.97',
      WomenDoubleRate: '355.66',
      MenMixteRate: '82.34',
      WomenMixteRate: '82.34',
      MenSingleRank: '5542',
      WomenSingleRank: '2753',
      MenDoubleRank: '5541',
      WomenDoubleRank: '2753',
      MenMixteRank: '4213',
      WomenMixteRank: '4082',
    },
    '6': {
      SubLevel: 'D7',
      Value: '32.0000',
      Pourcent: '10.0',
      PersonNumber: '10000',
      MenPersonNumber: '8397',
      WomenPersonNumber: '4171',
      MenSingleRate: '21.65',
      WomenSingleRate: '56.10',
      MenDoubleRate: '25.35',
      WomenDoubleRate: '136.67',
      MenMixteRate: '31.96',
      WomenMixteRate: '31.96',
      MenSingleRank: '8398',
      WomenSingleRank: '4171',
      MenDoubleRank: '8398',
      WomenDoubleRank: '4171',
      MenMixteRank: '6529',
      WomenMixteRank: '6040',
    },
    '7': {
      SubLevel: 'D8',
      Value: '16.0000',
      Pourcent: '15.5',
      PersonNumber: '16000',
      MenPersonNumber: '13015',
      WomenPersonNumber: '6465',
      MenSingleRate: '12.48',
      WomenSingleRate: '21.93',
      MenDoubleRate: '13.79',
      WomenDoubleRate: '43.43',
      MenMixteRate: '13.49',
      WomenMixteRate: '13.49',
      MenSingleRank: '13012',
      WomenSingleRank: '6464',
      MenDoubleRank: '13013',
      WomenDoubleRank: '6466',
      MenMixteRank: '10318',
      WomenMixteRank: '9158',
    },
    '8': {
      SubLevel: 'D9',
      Value: '8.0000',
      Pourcent: '30.0',
      PersonNumber: '25000',
      MenPersonNumber: '25192',
      WomenPersonNumber: '12514',
      MenSingleRate: '6.86',
      WomenSingleRate: '8.15',
      MenDoubleRate: '7.67',
      WomenDoubleRate: '10.56',
      MenMixteRate: '5.81',
      WomenMixteRate: '5.81',
      MenSingleRank: '25174',
      WomenSingleRank: '12512',
      MenDoubleRank: '25171',
      WomenDoubleRank: '12514',
      MenMixteRank: '20434',
      WomenMixteRank: '17258',
    },
    '9': {
      SubLevel: 'P10',
      Value: '4.0000',
      Pourcent: '45.0',
      PersonNumber: null,
      MenPersonNumber: '37788',
      WomenPersonNumber: '18771',
      MenSingleRate: '3.16',
      WomenSingleRate: '3.74',
      MenDoubleRate: '3.31',
      WomenDoubleRate: '5.06',
      MenMixteRate: '2.41',
      WomenMixteRate: '2.41',
      MenSingleRank: '37771',
      WomenSingleRank: '18751',
      MenDoubleRank: '37777',
      WomenDoubleRank: '18763',
      MenMixteRank: '33514',
      WomenMixteRank: '23002',
    },
    '10': {
      SubLevel: 'P11',
      Value: '2.0000',
      Pourcent: '70.0',
      PersonNumber: null,
      MenPersonNumber: '58781',
      WomenPersonNumber: '29200',
      MenSingleRate: '0.49',
      WomenSingleRate: '0.51',
      MenDoubleRate: '0.39',
      WomenDoubleRate: '0.48',
      MenMixteRate: '0.33',
      WomenMixteRate: '0.33',
      MenSingleRank: '62968',
      WomenSingleRank: '31254',
      MenDoubleRank: '62934',
      WomenDoubleRank: '31261',
      MenMixteRank: '61388',
      WomenMixteRank: '32476',
    },
    '11': {
      SubLevel: 'P12',
      Value: '1.0000',
      Pourcent: '100.0',
      PersonNumber: null,
      MenPersonNumber: '83974',
      WomenPersonNumber: '41715',
      MenSingleRate: '0.00',
      WomenSingleRate: '0.00',
      MenDoubleRate: '0.00',
      WomenDoubleRate: '0.00',
      MenMixteRate: '0.00',
      WomenMixteRate: '0.00',
      MenSingleRank: '-',
      WomenSingleRank: '-',
      MenDoubleRank: '-',
      WomenDoubleRank: '-',
      MenMixteRank: '-',
      WomenMixteRank: '-',
    },
    '12': {
      SubLevel: 'NC',
      Value: '1.0000',
      Pourcent: '0.0',
      PersonNumber: null,
      MenPersonNumber: '0',
      WomenPersonNumber: '0',
      MenSingleRate: null,
      WomenSingleRate: null,
      MenDoubleRate: null,
      WomenDoubleRate: null,
      MenMixteRate: null,
      WomenMixteRate: null,
      MenSingleRank: null,
      WomenSingleRank: null,
      MenDoubleRank: null,
      WomenDoubleRank: null,
      MenMixteRank: null,
      WomenMixteRank: null,
    },
  },
  ValuesHigh: {
    '0': {
      SubLevel: 'N1',
      Value: '2048.0000',
      Pourcent: '0.2',
      PersonNumber: '100',
      MenPersonNumber: '167',
      WomenPersonNumber: '83',
      MenSingleRate: '49469.69',
      WomenSingleRate: '30000.00',
      MenDoubleRate: '31096.37',
      WomenDoubleRate: '26504.07',
      MenMixteRate: '41300.00',
      WomenMixteRate: '41300.00',
      MenSingleRank: '1',
      WomenSingleRank: '1',
      MenDoubleRank: '1',
      WomenDoubleRank: '1',
      MenMixteRank: '1',
      WomenMixteRank: '1',
    },
    '1': {
      SubLevel: 'N2',
      Value: '1024.0000',
      Pourcent: '0.6',
      PersonNumber: '300',
      MenPersonNumber: '503',
      WomenPersonNumber: '250',
      MenSingleRate: '3544.35',
      WomenSingleRate: '7600.00',
      MenDoubleRate: '2696.69',
      WomenDoubleRate: '12045.20',
      MenMixteRate: '3945.55',
      WomenMixteRate: '3945.55',
      MenSingleRank: '169',
      WomenSingleRank: '84',
      MenDoubleRank: '169',
      WomenDoubleRank: '84',
      MenMixteRank: '111',
      WomenMixteRank: '142',
    },
    '2': {
      SubLevel: 'N3',
      Value: '512.0000',
      Pourcent: '1.4',
      PersonNumber: '700',
      MenPersonNumber: '1175',
      WomenPersonNumber: '584',
      MenSingleRate: '1176.43',
      WomenSingleRate: '3411.57',
      MenDoubleRate: '1129.57',
      WomenDoubleRate: '7168.63',
      MenMixteRate: '2088.24',
      WomenMixteRate: '2088.24',
      MenSingleRank: '505',
      WomenSingleRank: '251',
      MenDoubleRank: '505',
      WomenDoubleRank: '251',
      MenMixteRank: '350',
      WomenMixteRank: '406',
    },
    '3': {
      SubLevel: 'R4',
      Value: '256.0000',
      Pourcent: '2.4',
      PersonNumber: '1500',
      MenPersonNumber: '2015',
      WomenPersonNumber: '1001',
      MenSingleRate: '428.39',
      WomenSingleRate: '1209.22',
      MenDoubleRate: '502.26',
      WomenDoubleRate: '3456.80',
      MenMixteRate: '993.83',
      WomenMixteRate: '993.83',
      MenSingleRank: '1177',
      WomenSingleRank: '585',
      MenDoubleRank: '1177',
      WomenDoubleRank: '585',
      MenMixteRank: '851',
      WomenMixteRank: '911',
    },
    '4': {
      SubLevel: 'R5',
      Value: '128.0000',
      Pourcent: '4.0',
      PersonNumber: '3000',
      MenPersonNumber: '3358',
      WomenPersonNumber: '1668',
      MenSingleRate: '211.74',
      WomenSingleRate: '652.88',
      MenDoubleRate: '261.64',
      WomenDoubleRate: '1858.21',
      MenMixteRate: '515.20',
      WomenMixteRate: '515.20',
      MenSingleRank: '2016',
      WomenSingleRank: '1002',
      MenDoubleRank: '2016',
      WomenDoubleRank: '1002',
      MenMixteRank: '1474',
      WomenMixteRank: '1545',
    },
    '5': {
      SubLevel: 'R6',
      Value: '64.0000',
      Pourcent: '6.6',
      PersonNumber: '6000',
      MenPersonNumber: '5542',
      WomenPersonNumber: '2753',
      MenSingleRate: '95.28',
      WomenSingleRate: '326.63',
      MenDoubleRate: '122.84',
      WomenDoubleRate: '895.90',
      MenMixteRate: '228.85',
      WomenMixteRate: '228.85',
      MenSingleRank: '3360',
      WomenSingleRank: '1670',
      MenDoubleRank: '3360',
      WomenDoubleRank: '1670',
      MenMixteRank: '2504',
      WomenMixteRank: '2526',
    },
    '6': {
      SubLevel: 'D7',
      Value: '32.0000',
      Pourcent: '10.0',
      PersonNumber: '10000',
      MenPersonNumber: '8397',
      WomenPersonNumber: '4171',
      MenSingleRate: '41.61',
      WomenSingleRate: '135.17',
      MenDoubleRate: '52.94',
      WomenDoubleRate: '355.50',
      MenMixteRate: '82.33',
      WomenMixteRate: '82.33',
      MenSingleRank: '5543',
      WomenSingleRank: '2754',
      MenDoubleRank: '5544',
      WomenDoubleRank: '2754',
      MenMixteRank: '4214',
      WomenMixteRank: '4083',
    },
    '7': {
      SubLevel: 'D8',
      Value: '16.0000',
      Pourcent: '15.5',
      PersonNumber: '16000',
      MenPersonNumber: '13015',
      WomenPersonNumber: '6465',
      MenSingleRate: '21.64',
      WomenSingleRate: '56.09',
      MenDoubleRate: '25.34',
      WomenDoubleRate: '136.62',
      MenMixteRate: '31.95',
      WomenMixteRate: '31.95',
      MenSingleRank: '8400',
      WomenSingleRank: '4172',
      MenDoubleRank: '8400',
      WomenDoubleRank: '4172',
      MenMixteRank: '6531',
      WomenMixteRank: '6041',
    },
    '8': {
      SubLevel: 'D9',
      Value: '8.0000',
      Pourcent: '30.0',
      PersonNumber: '25000',
      MenPersonNumber: '25192',
      WomenPersonNumber: '12514',
      MenSingleRate: '12.47',
      WomenSingleRate: '21.92',
      MenDoubleRate: '13.78',
      WomenDoubleRate: '43.42',
      MenMixteRate: '13.48',
      WomenMixteRate: '13.48',
      MenSingleRank: '13017',
      WomenSingleRank: '6467',
      MenDoubleRank: '13024',
      WomenDoubleRank: '6468',
      MenMixteRank: '10324',
      WomenMixteRank: '9161',
    },
    '9': {
      SubLevel: 'P10',
      Value: '4.0000',
      Pourcent: '45.0',
      PersonNumber: null,
      MenPersonNumber: '37788',
      WomenPersonNumber: '18771',
      MenSingleRate: '6.85',
      WomenSingleRate: '8.14',
      MenDoubleRate: '7.66',
      WomenDoubleRate: '10.55',
      MenMixteRate: '5.80',
      WomenMixteRate: '5.80',
      MenSingleRank: '25195',
      WomenSingleRank: '12517',
      MenDoubleRank: '25206',
      WomenDoubleRank: '12525',
      MenMixteRank: '20456',
      WomenMixteRank: '17265',
    },
    '10': {
      SubLevel: 'P11',
      Value: '2.0000',
      Pourcent: '70.0',
      PersonNumber: null,
      MenPersonNumber: '58781',
      WomenPersonNumber: '29200',
      MenSingleRate: '3.15',
      WomenSingleRate: '3.73',
      MenDoubleRate: '3.30',
      WomenDoubleRate: '5.05',
      MenMixteRate: '2.40',
      WomenMixteRate: '2.40',
      MenSingleRank: '37819',
      WomenSingleRank: '18773',
      MenDoubleRank: '37847',
      WomenDoubleRank: '18774',
      MenMixteRank: '33578',
      WomenMixteRank: '23014',
    },
    '11': {
      SubLevel: 'P12',
      Value: '1.0000',
      Pourcent: '100.0',
      PersonNumber: null,
      MenPersonNumber: '83974',
      WomenPersonNumber: '41715',
      MenSingleRate: '0.48',
      WomenSingleRate: '0.50',
      MenDoubleRate: '0.38',
      WomenDoubleRate: '0.47',
      MenMixteRate: '0.32',
      WomenMixteRate: '0.32',
      MenSingleRank: '63040',
      WomenSingleRank: '31306',
      MenDoubleRank: '63043',
      WomenDoubleRank: '31309',
      MenMixteRank: '61776',
      WomenMixteRank: '32648',
    },
    '12': {
      SubLevel: 'NC',
      Value: '1.0000',
      Pourcent: '0.0',
      PersonNumber: null,
      MenPersonNumber: '0',
      WomenPersonNumber: '0',
      MenSingleRate: null,
      WomenSingleRate: null,
      MenDoubleRate: null,
      WomenDoubleRate: null,
      MenMixteRate: null,
      WomenMixteRate: null,
      MenSingleRank: null,
      WomenSingleRank: null,
      MenDoubleRank: null,
      WomenDoubleRank: null,
      MenMixteRank: null,
      WomenMixteRank: null,
    },
  },
};

type MyFFBadSeuil = (typeof MyFFBadSeuils2.ValuesLow)['0'];

const getSeuils = <K extends keyof MyFFBadSeuil>(key: K) => {
  return Object.values(MyFFBadSeuils2.ValuesLow)
    .map<[string, number | undefined, number | undefined]>(
      (s, index: number, array) => {
        const maxInterval =
          index === 0
            ? MyFFBadSeuils2.ValuesHigh['0'][key]
            : array[index - 1][key];
        const value = s[key];
        return [
          s.SubLevel,
          value ? parseFloat(value) : undefined,
          maxInterval ? parseFloat(maxInterval) : undefined,
        ];
      }
    )
    .filter(
      (seuil): seuil is [string, number, number] =>
        typeof seuil[1] !== 'undefined' && typeof seuil[2] !== 'undefined'
    )
    .sort((a, b) => a[1] - b[1]);
};

export const OLD_SEUILS: {male: RankingSeuils; female: RankingSeuils} = {
  male: {
    single: getSeuils('MenSingleRate'),
    double: getSeuils('MenDoubleRate'),
    mixed: getSeuils('MenMixteRate'),
  },
  female: {
    single: getSeuils('WomenSingleRate'),
    double: getSeuils('WomenDoubleRate'),
    mixed: getSeuils('WomenMixteRate'),
  },
};

export const NEW_SEUILS: {male: RankingSeuils; female: RankingSeuils} = {
  male: {
    single: (
      [
        ['N1', 2600, 2800],
        ['N2', 2400, 2600],
        ['N3', 2200, 2400],
        ['R4', 2000, 2200],
        ['R5', 1800, 2000],
        ['R6', 1600, 1800],
        ['D7', 1400, 1600],
        ['D8', 1200, 1400],
        ['D9', 1000, 1200],
        ['P10', 800, 1000],
        ['P11', 600, 800],
        ['P12', 400, 600],
      ] satisfies Seuils
    ).sort((a, b) => a[1] - b[1]),
    double: (
      [
        ['N1', 2600, 2800],
        ['N2', 2400, 2600],
        ['N3', 2200, 2400],
        ['R4', 2000, 2200],
        ['R5', 1800, 2000],
        ['R6', 1600, 1800],
        ['D7', 1400, 1600],
        ['D8', 1200, 1400],
        ['D9', 1000, 1200],
        ['P10', 800, 1000],
        ['P11', 600, 800],
        ['P12', 400, 600],
      ] satisfies Seuils
    ).sort((a, b) => a[1] - b[1]),
    mixed: (
      [
        ['N1', 2600, 2800],
        ['N2', 2400, 2600],
        ['N3', 2200, 2400],
        ['R4', 2000, 2200],
        ['R5', 1800, 2000],
        ['R6', 1600, 1800],
        ['D7', 1400, 1600],
        ['D8', 1200, 1400],
        ['D9', 1000, 1200],
        ['P10', 800, 1000],
        ['P11', 600, 800],
        ['P12', 400, 600],
      ] satisfies Seuils
    ).sort((a, b) => a[1] - b[1]),
  },
  female: {
    single: (
      [
        ['N1', 2200, 2400],
        ['N2', 2000, 2200],
        ['N3', 1800, 2000],
        ['R4', 1600, 1800],
        ['R5', 1400, 1600],
        ['R6', 1200, 1400],
        ['D7', 1050, 1200],
        ['D8', 900, 1050],
        ['D9', 750, 900],
        ['P10', 600, 750],
        ['P11', 500, 600],
        ['P12', 400, 500],
      ] satisfies Seuils
    ).sort((a, b) => a[1] - b[1]),
    double: (
      [
        ['N1', 2200, 2400],
        ['N2', 2000, 2200],
        ['N3', 1800, 2000],
        ['R4', 1600, 1800],
        ['R5', 1400, 1600],
        ['R6', 1200, 1400],
        ['D7', 1050, 1200],
        ['D8', 900, 1050],
        ['D9', 750, 900],
        ['P10', 600, 750],
        ['P11', 500, 600],
        ['P12', 400, 500],
      ] satisfies Seuils
    ).sort((a, b) => a[1] - b[1]),
    mixed: (
      [
        ['N1', 2600, 2800],
        ['N2', 2400, 2600],
        ['N3', 2200, 2400],
        ['R4', 2000, 2200],
        ['R5', 1800, 2000],
        ['R6', 1600, 1800],
        ['D7', 1400, 1600],
        ['D8', 1200, 1400],
        ['D9', 1000, 1200],
        ['P10', 800, 1000],
        ['P11', 600, 800],
        ['P12', 400, 600],
      ] satisfies Seuils
    ).sort((a, b) => a[1] - b[1]),
  },
};
